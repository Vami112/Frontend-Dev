<!-- dynamicUpdater.html -->
<!doctype html>
<html>
<head><meta charset="utf-8"><title>User Updater</title></head>
<body>
  <div id="formArea"></div>
  <pre id="userOutput"></pre>

<script>
let user = { name: "John", email: "john@mail.com", age: 21 };

function renderForm() {
  const container = document.getElementById('formArea');
  container.innerHTML = `
    <form id="editForm">
      <div><label>Name: <input name="name" value="${user.name}"></label></div>
      <div><label>Email: <input name="email" value="${user.email}"></label></div>
      <div><label>Age: <input name="age" type="number" value="${user.age}"></label></div>
      <button type="submit">Update</button>
    </form>
  `;
  document.getElementById('editForm').addEventListener('submit', (e) => {
    e.preventDefault();
    const fd = new FormData(e.target);
    user.name = fd.get('name');
    user.email = fd.get('email');
    user.age = Number(fd.get('age'));
    renderOutput();
    // re-render the form to show updated values
    renderForm();
  });
}

function renderOutput() {
  document.getElementById('userOutput').textContent = JSON.stringify(user, null, 2);
}

// init
renderForm();
renderOutput();
</script>
</body>
</html>
